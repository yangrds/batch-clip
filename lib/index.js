!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Clip=t():e.Clip=t()}(self,(function(){return(()=>{var e={757:(e,t,n)=>{e.exports=n(666)},666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",f=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),f=new j(r||[]);return i._invoke=function(e,t,n){var r=l;return function(a,i){if(r===u)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw i;return C()}for(n.method=a,n.arg=i;;){var f=n.delegate;if(f){var o=z(f,n);if(o){if(o===b)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=u;var c=d(e,t,n);if("normal"===c.type){if(r=n.done?h:p,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,f),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var l="suspendedStart",p="suspendedYield",u="executing",h="completed",b={};function v(){}function m(){}function g(){}var y={};y[i]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(T([])));_&&_!==n&&r.call(_,i)&&(y=_);var x=g.prototype=v.prototype=Object.create(y);function I(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,i,f,o){var c=d(e[a],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,f,o)}),(function(e){n("throw",e,f,o)})):t.resolve(l).then((function(e){s.value=e,f(s)}),(function(e){return n("throw",e,f,o)}))}o(c.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}}function z(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,z(e,n),"throw"===n.method))return b;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var a=d(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function T(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,f=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return f.next=f}}return{next:C}}function C(){return{value:t,done:!0}}return m.prototype=x.constructor=g,g.constructor=m,m.displayName=c(g,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,o,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},I(k.prototype),k.prototype[f]=function(){return this},e.AsyncIterator=k,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var f=new k(s(t,n,r,a),i);return e.isGeneratorFunction(n)?f:f.next().then((function(e){return e.done?e.value:f.next()}))},I(x),c(x,o,"Generator"),x[i]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return o.type="throw",o.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var f=this.tryEntries[i],o=f.completion;if("root"===f.tryLoc)return a("end");if(f.tryLoc<=this.prev){var c=r.call(f,"catchLoc"),s=r.call(f,"finallyLoc");if(c&&s){if(this.prev<f.catchLoc)return a(f.catchLoc,!0);if(this.prev<f.finallyLoc)return a(f.finallyLoc)}else if(c){if(this.prev<f.catchLoc)return a(f.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<f.finallyLoc)return a(f.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var f=i?i.completion:{};return f.type=e,f.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(f)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),F(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;F(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};return(()=>{"use strict";function e(e,t,n,r,a,i,f){try{var o=e[i](f),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,a)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(a,i){var f=t.apply(n,r);function o(t){e(f,a,i,o,c,"next",t)}function c(t){e(f,a,i,o,c,"throw",t)}o(void 0)}))}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(r,{default:()=>m});var f=n(757),o=n.n(f);function c(e,t){var n,r,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(t=t||a.length,e)for(n=0;n<e;n++)i[n]=a[0|Math.random()*t];else for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",n=0;n<36;n++)i[n]||(r=0|16*Math.random(),i[n]=a[19==n?3&r|8:r]);return i.join("")}function s(e){return document.querySelector(e)}function d(e){return e="string"==typeof e?e:b(e),new Promise((function(t){var n=new Image;n.src=e,n.onload=function(){t(n)}}))}function l(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file.png",n=e.split(","),r=n[0].match(/:(.*?);/)[1],a=atob(n[1]),i=a.length,f=new Uint8Array(i);i--;)f[i]=a.charCodeAt(i);var o=new File([f],"".concat(t),{type:r});return o}function p(e){var t=e.url,n=e.fileName,r=e.width,a=e.height,i=n.split(".")[n.split(".").length-1];return i=i.replace("jpg","jpeg"),new Promise((function(e){var f=new Image;f.src=t,f.crossOrigin="Anonymous",f.onload=function(){var t=document.createElement("canvas"),o=t.getContext("2d");t.width=r,t.height=a,o.drawImage(f,0,0,f.width,f.height,0,0,r,a),e({file:l(t.toDataURL("image/".concat(i),1),n),err:null})},f.onerror=function(t){e({file:null,err:t})}}))}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.split(".")[t.split(".").length-1];return r=r.replace("jpg","jpeg"),new Promise((function(a){var i=new Image;i.src=e,i.crossOrigin="Anonymous",i.onload=function(){var e=document.createElement("canvas"),f=e.getContext("2d");e.width=n.swidth||i.width,e.height=n.sheight||i.height,e.sx=n.sx||0,e.sy=n.sy||0,f.drawImage(i,e.sx,e.sy,e.width,e.height,0,0,e.width,e.height),a({file:l(e.toDataURL("image/".concat(r),1),t),err:null})},i.onerror=function(e){a({file:null,err:e})}}))}function h(e){var t=Math.floor(Math.log(e)/Math.log(2));t<1&&(t=0);var n=Math.floor(t/10);return(e/=Math.pow(2,10*n)).toString().length>e.toFixed(2).toString().length&&(e=e.toFixed(2)),e+" "+["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}function b(e){var t=null;return void 0!==window.createObjectURL?t=window.createObjectURL(e):void 0!==window.webkitURL?t=window.webkitURL.createObjectURL(e):void 0!==window.URL&&(t=window.URL.createObjectURL(e)),t}function v(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,!1)[t]}var m=function(){function e(t){var n=t.el,r=t.Files,a=t.isFile,f=t.zoom;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"element",void 0),i(this,"params",void 0),i(this,"isFile",void 0),i(this,"zoom",void 0),i(this,"zoomSize",void 0),i(this,"cacheFiles",void 0),i(this,"fileImgs",void 0),i(this,"fileId",void 0),i(this,"size",void 0),this.element="string"==typeof n?s(n):n,this.params={left:0,top:0,width:0,height:0,currentX:0,currentY:0,flag:!1,kind:"drag"},this.zoom=!!f,this.isFile=!!a,this.cacheFiles={},this.fileImgs={},this.fileId="",this.size={w:0,h:0,byte:0},this.template(),this.zoomSize={width:s(".img-wrap_c7de2eb38b9644f7a21f57b2348af5fd").getBoundingClientRect().width-40,height:s(".img-wrap_c7de2eb38b9644f7a21f57b2348af5fd").getBoundingClientRect().height-46},this.clipInit(r)}var n,r,f,l,m,g;return n=e,(r=[{key:"sizeUpdate",value:function(){s(".size-x_c7de2eb38b9644f7a21f57b2348af5fd").value=s("#clip_c7de2eb38b9644f7a21f57b2348af5fd").offsetLeft-s("#main-img_c7de2eb38b9644f7a21f57b2348af5fd").offsetLeft,s(".size-y_c7de2eb38b9644f7a21f57b2348af5fd").value=s("#clip_c7de2eb38b9644f7a21f57b2348af5fd").offsetTop-20,s(".size-w_c7de2eb38b9644f7a21f57b2348af5fd").value=parseInt(v(s("#clip_c7de2eb38b9644f7a21f57b2348af5fd"),"width")),s(".size-h_c7de2eb38b9644f7a21f57b2348af5fd").value=parseInt(v(s("#clip_c7de2eb38b9644f7a21f57b2348af5fd"),"height"))}},{key:"clipInit",value:(g=t(o().mark((function e(t){var n,r,a,i,f,d,l,p,u=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this,s(".clip-loading_c7de2eb38b9644f7a21f57b2348af5fd>i").style.width="0%",r=0;case 3:if(!(r<t.length)){e.next=19;break}return s(".clip-loading_c7de2eb38b9644f7a21f57b2348af5fd>i").style.width="".concat((o=r+1,h=t.length,0==o||0==h?0:Math.round(o/h*1e4)/100),"%"),a="tab_"+c(16,16),e.next=8,n.urlToFile(t[r],n.isFile);case 8:if(i=e.sent,f=i.file,!i.err){e.next=14;break}return console.warn("图像资源加载失败 ".concat(i.err.path[0].currentSrc,"\n请检查该资源的Access-Control-Allow-Origin响应头信息\nClip已忽略该资源")),n.LoadFailed(i.err.path[0].currentSrc),e.abrupt("continue",16);case 14:n.fileImgs[a]=f,n.cacheFiles[a]=f;case 16:r++,e.next=3;break;case 19:if(s(".clip-mask_c7de2eb38b9644f7a21f57b2348af5fd").style.display="none","{}"!==JSON.stringify(n.fileImgs)){e.next=24;break}return n.interrupt(),console.warn("可加载资源数量不足，已停止程序执行。"),e.abrupt("return");case 24:for(p in d=s(".files-tab_c7de2eb38b9644f7a21f57b2348af5fd"),l="",n.fileImgs)l+='<img src="'.concat(b(n.fileImgs[p]),'" id="').concat(p,'" />');d.innerHTML=l,Array.from(d.childNodes).map((function(e){e.onclick=function(){n.fileId=e.id,s("#main-img_c7de2eb38b9644f7a21f57b2348af5fd").src=e.src,n.resetTool(100,100),n.infoUpdate()}})),d.childNodes[0].onclick(),n.infoUpdate(),n.resetTool(100,100),n.sizeUpdate(),s(".size-y_c7de2eb38b9644f7a21f57b2348af5fd").oninput=function(e){return n.setSize.call(n,"size-y_c7de2eb38b9644f7a21f57b2348af5fd",e.target.value)},s(".size-x_c7de2eb38b9644f7a21f57b2348af5fd").oninput=function(e){return n.setSize.call(n,"size-x_c7de2eb38b9644f7a21f57b2348af5fd",e.target.value)},s(".size-w_c7de2eb38b9644f7a21f57b2348af5fd").oninput=function(e){return n.setSize.call(n,"size-w_c7de2eb38b9644f7a21f57b2348af5fd",e.target.value)},s(".size-h_c7de2eb38b9644f7a21f57b2348af5fd").oninput=function(e){return n.setSize.call(n,"size-h_c7de2eb38b9644f7a21f57b2348af5fd",e.target.value)},s("#clip-back_c7de2eb38b9644f7a21f57b2348af5fd").onclick=function(){n.fileImgs[u.fileId]=n.cacheFiles[n.fileId],n.infoUpdate()},s("#clip-save_c7de2eb38b9644f7a21f57b2348af5fd").onclick=function(){var e=[];for(var t in n.fileImgs)e.push(n.fileImgs[t]);n.submit(e)},n.clipReload(),n.drawImageFun(),this.moveinit();case 42:case"end":return e.stop()}var o,h}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"submit",value:function(){}},{key:"LoadFailed",value:function(){}},{key:"interrupt",value:function(){}},{key:"setSize",value:function(e,t){var n=this;"size-x_c7de2eb38b9644f7a21f57b2348af5fd"===e?(n.params.left=parseInt(t)+20+"px",s("#clip_c7de2eb38b9644f7a21f57b2348af5fd").style.left=parseInt(t)+20+"px"):"size-y_c7de2eb38b9644f7a21f57b2348af5fd"===e?(n.params.top=parseInt(t)+20+"px",s("#clip_c7de2eb38b9644f7a21f57b2348af5fd").style.top=parseInt(t)+20+"px"):"size-w_c7de2eb38b9644f7a21f57b2348af5fd"===e?(n.params.width=parseInt(t)+"px",s("#clip_c7de2eb38b9644f7a21f57b2348af5fd").style.width=parseInt(t)+"px"):"size-h_c7de2eb38b9644f7a21f57b2348af5fd"===e&&(n.params.height=parseInt(t)+"px",s("#clip_c7de2eb38b9644f7a21f57b2348af5fd").style.height=parseInt(t)+"px")}},{key:"urlToFile",value:(m=t(o().mark((function e(t,n){var r,a,i,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this,a=null,i=n?b(t):t,f=n?t.name:t.split("/")[t.split("/").length-1],!r.zoom){e.next=10;break}return e.next=7,p({url:i,fileName:f,width:r.zoomSize.width,height:r.zoomSize.height});case 7:a=e.sent,e.next=13;break;case 10:return e.next=12,u(i,f);case 12:a=e.sent;case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"infoUpdate",value:(l=t(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=this).fileImgs[t.fileId],e.next=4,d(n);case 4:r=e.sent,s("#"+t.fileId).src=r.src,s("#main-img_c7de2eb38b9644f7a21f57b2348af5fd").src=r.src,s("#file-pixel_c7de2eb38b9644f7a21f57b2348af5fd").innerText=r.naturalWidth+"*"+r.naturalHeight,s("#file-byte_c7de2eb38b9644f7a21f57b2348af5fd").innerText=h(n.size);case 9:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"resetTool",value:function(e,t){s("#clip_c7de2eb38b9644f7a21f57b2348af5fd").style.left="20px",s("#clip_c7de2eb38b9644f7a21f57b2348af5fd").style.top="20px",s("#clip_c7de2eb38b9644f7a21f57b2348af5fd").style.width=e+"px",s("#clip_c7de2eb38b9644f7a21f57b2348af5fd").style.height=t+"px",this.params.left="20px",this.params.top="20px",this.params.width=e+"px",this.params.height=t+"px"}},{key:"moveDragFun",value:function(e,t,n){var r=this;r.params.width=v(t,"width"),r.params.height=v(t,"height"),r.params.left=v(t,"left"),r.params.top=v(t,"top"),e.onmousedown=function(a){r.params.flag=!0;var i=a||window.event;r.params.currentX=i.clientX,r.params.currentY=i.clientY,e.onselectstart=function(){return!1},i.stopPropagation(),document.onmousemove=function(e){if(r.params.flag){var a=e.clientX,i=e.clientY,f=a-r.params.currentX,o=i-r.params.currentY;r.sizeUpdate(),"leftTop"===n?(t.style.left=parseInt(r.params.left)+f+"px",t.style.width=parseInt(r.params.width)-f+"px",t.style.top=parseInt(r.params.top)+o+"px",t.style.height=parseInt(r.params.height)-o+"px"):"rightTop"===n?(t.style.top=parseInt(r.params.top)+o+"px",t.style.height=parseInt(r.params.height)-o+"px",t.style.width=parseInt(r.params.width)+f+"px"):"rightBot"===n?(t.style.width=parseInt(r.params.width)+f+"px",t.style.height=parseInt(r.params.height)+o+"px"):"topCenter"===n?(t.style.top=parseInt(r.params.top)+o+"px",t.style.height=parseInt(r.params.height)-o+"px"):"botCenter"===n?t.style.height=parseInt(r.params.height)+o+"px":"rightCenter"===n?t.style.width=parseInt(r.params.width)+f+"px":"leftCenter"===n?(t.style.left=parseInt(r.params.left)+f+"px",t.style.width=parseInt(r.params.width)-f+"px"):"leftBot"===n?(t.style.left=parseInt(r.params.left)+f+"px",t.style.width=parseInt(r.params.width)-f+"px",t.style.height=parseInt(r.params.height)+o+"px"):(t.style.left=parseInt(r.params.left)+f+"px",t.style.top=parseInt(r.params.top)+o+"px"),document.onmouseup=function(){r.params.flag=!1,r.params.left=v(t,"left"),r.params.top=v(t,"top"),r.params.width=v(t,"width"),r.params.height=v(t,"height"),document.onmousemove=null}}}}}},{key:"drawImageFun",value:(f=t(o().mark((function e(){var n,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this,s("#clip-determine_c7de2eb38b9644f7a21f57b2348af5fd").onclick=t(o().mark((function e(){var t,a,i,f,c,d,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s("#main-img_c7de2eb38b9644f7a21f57b2348af5fd"),a=parseInt(n.params.left)-t.offsetLeft,i=parseInt(n.params.top)-t.offsetTop,f=parseInt(n.params.width),c=parseInt(n.params.height),d=n.fileImgs[n.fileId].name,e.next=8,u(t.src,d,{sx:a,sy:i,swidth:f,sheight:c});case 8:l=e.sent,n.fileImgs[n.fileId]=l.file,r.infoUpdate(),n.resetTool(f,c);case 12:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"clipReload",value:function(){var e=this;s("#clip-reload_c7de2eb38b9644f7a21f57b2348af5fd").onclick=function(){var n=document.createElement("input");n.type="file",n.accept="image/png,image/jpeg,image/webp",n.onchange=function(){var n=t(o().mark((function t(n){var r,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.urlToFile.call(e,n.target.files[0],!0);case 2:if(r=t.sent,a=r.file,!r.err){t.next=8;break}return e.LoadFailed(res.err.path[0].currentSrc),t.abrupt("return");case 8:e.fileImgs[e.fileId]=a,e.cacheFiles[e.fileId]=a,e.infoUpdate();case 11:case"end":return t.stop()}}),t)})));return function(e){return n.apply(this,arguments)}}(),n.click()}}},{key:"moveinit",value:function(){this.moveDragFun(s("#mask_c7de2eb38b9644f7a21f57b2348af5fd"),s("#clip_c7de2eb38b9644f7a21f57b2348af5fd"),"clip"),this.moveDragFun(s("#leftTop_c7de2eb38b9644f7a21f57b2348af5fd"),s("#clip_c7de2eb38b9644f7a21f57b2348af5fd"),"leftTop"),this.moveDragFun(s("#leftBot_c7de2eb38b9644f7a21f57b2348af5fd"),s("#clip_c7de2eb38b9644f7a21f57b2348af5fd"),"leftBot"),this.moveDragFun(s("#rightTop_c7de2eb38b9644f7a21f57b2348af5fd"),s("#clip_c7de2eb38b9644f7a21f57b2348af5fd"),"rightTop"),this.moveDragFun(s("#rightBot_c7de2eb38b9644f7a21f57b2348af5fd"),s("#clip_c7de2eb38b9644f7a21f57b2348af5fd"),"rightBot"),this.moveDragFun(s("#topCenter_c7de2eb38b9644f7a21f57b2348af5fd"),s("#clip_c7de2eb38b9644f7a21f57b2348af5fd"),"topCenter"),this.moveDragFun(s("#botCenter_c7de2eb38b9644f7a21f57b2348af5fd"),s("#clip_c7de2eb38b9644f7a21f57b2348af5fd"),"botCenter"),this.moveDragFun(s("#rightCenter_c7de2eb38b9644f7a21f57b2348af5fd"),s("#clip_c7de2eb38b9644f7a21f57b2348af5fd"),"rightCenter"),this.moveDragFun(s("#leftCenter_c7de2eb38b9644f7a21f57b2348af5fd"),s("#clip_c7de2eb38b9644f7a21f57b2348af5fd"),"leftCenter")}},{key:"template",value:function(){this.element.innerHTML='<div id="clip-tailoring_c7de2eb38b9644f7a21f57b2348af5fd">\n\n    <div class="clip-mask_c7de2eb38b9644f7a21f57b2348af5fd">\n        <div class="clip-loading_c7de2eb38b9644f7a21f57b2348af5fd">\n            <i></i>\n        </div>\n    </div>\n\n    <div class="files-tab_c7de2eb38b9644f7a21f57b2348af5fd">\n    </div>\n\n    <div class="utils_c7de2eb38b9644f7a21f57b2348af5fd">\n        <div class="child-size_c7de2eb38b9644f7a21f57b2348af5fd">\n            <span>X：</span>\n            <input class="size-x_c7de2eb38b9644f7a21f57b2348af5fd" type="number" />\n        </div>\n\n        <div class="child-size_c7de2eb38b9644f7a21f57b2348af5fd">\n            <span>Y：</span>\n            <input class="size-y_c7de2eb38b9644f7a21f57b2348af5fd" type="number" />\n        </div>\n\n        <div class="child-size_c7de2eb38b9644f7a21f57b2348af5fd">\n            <span>W：</span>\n            <input class="size-w_c7de2eb38b9644f7a21f57b2348af5fd" type="number" />\n        </div>\n\n        <div class="child-size_c7de2eb38b9644f7a21f57b2348af5fd">\n            <span>H：</span>\n            <input class="size-h_c7de2eb38b9644f7a21f57b2348af5fd" type="number" />\n        </div>\n        <div class="child-pixel_c7de2eb38b9644f7a21f57b2348af5fd">\n            <span>P：</span>\n            <span id="file-pixel_c7de2eb38b9644f7a21f57b2348af5fd"></span>\n        </div>\n        <div class="child-pixel_c7de2eb38b9644f7a21f57b2348af5fd">\n            <span>S：</span>\n            <span id="file-byte_c7de2eb38b9644f7a21f57b2348af5fd"></span>\n        </div>\n\n        <div class="clip-btns_c7de2eb38b9644f7a21f57b2348af5fd">\n            <div class="clip-child_c7de2eb38b9644f7a21f57b2348af5fd" id="clip-reload_c7de2eb38b9644f7a21f57b2348af5fd">\n                <span>重载</span>\n            </div>\n            <div class="clip-child_c7de2eb38b9644f7a21f57b2348af5fd" id="clip-determine_c7de2eb38b9644f7a21f57b2348af5fd">\n                <span>裁剪</span>\n            </div>\n            <div class="clip-child_c7de2eb38b9644f7a21f57b2348af5fd" id="clip-back_c7de2eb38b9644f7a21f57b2348af5fd">\n                <span>回退</span>\n            </div>\n            <div class="clip-child_c7de2eb38b9644f7a21f57b2348af5fd" id="clip-save_c7de2eb38b9644f7a21f57b2348af5fd">\n                <span>保存</span>\n            </div>\n        </div>\n    </div>\n    <div class="img-wrap_c7de2eb38b9644f7a21f57b2348af5fd">\n        <div id="clip_c7de2eb38b9644f7a21f57b2348af5fd">\n            <div id="mask_c7de2eb38b9644f7a21f57b2348af5fd"></div>\n            <div id="leftTop_c7de2eb38b9644f7a21f57b2348af5fd"></div>\n            <div id="rightTop_c7de2eb38b9644f7a21f57b2348af5fd"></div>\n            <div id="leftBot_c7de2eb38b9644f7a21f57b2348af5fd"></div>\n            <div id="rightBot_c7de2eb38b9644f7a21f57b2348af5fd"></div>\n            <div id="leftCenter_c7de2eb38b9644f7a21f57b2348af5fd"></div>\n            <div id="rightCenter_c7de2eb38b9644f7a21f57b2348af5fd"></div>\n            <div id="topCenter_c7de2eb38b9644f7a21f57b2348af5fd"></div>\n            <div id="botCenter_c7de2eb38b9644f7a21f57b2348af5fd"></div>\n        </div>\n        <img id="main-img_c7de2eb38b9644f7a21f57b2348af5fd" ondragstart="return false" src="" />\n    </div>\n</div>'}}])&&a(n.prototype,r),e}()})(),r.default})()}));